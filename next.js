function includeHTML() { var get, i, elmnt, file, xhttp; get = document.getElementsByTagName("load-baby"); for (i = 0; i < get.length; i++) { elmnt = get[i]; file = elmnt.getAttribute("from"); if (file) { xhttp = new XMLHttpRequest(); xhttp.onreadystatechange = function() { if (this.readyState == 4) { if (this.status == 200) { elmnt.innerHTML = this.responseText; } if (this.status == 404) { elmnt.innerHTML = "Page not found."; } elmnt.removeAttribute("from"); includeHTML(); } } xhttp.open("GET", file, true); xhttp.send(); return; } } }; window.onload = function() { var enable = document.getElementsByTagName("enable"); for (var i = 0; i < enable.length; i++) { includeHTML(); } }
